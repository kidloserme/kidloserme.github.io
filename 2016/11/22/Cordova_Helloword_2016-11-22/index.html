<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Holo Wang"><meta name="description" content="如何搭建Cordova所需的环境以及创建第一个Cordova HelloWord项目"><meta name="keywords" content="Cordova"><title>Cordova ： HelloWord · 加贝龙</title><link rel="icon" href="/long_02.jpg"><link rel="canonical" href="http://yoursite.com/2016/11/22/Cordova_Helloword_2016-11-22/"><link rel="alternate" href="/atom.xml" title="加贝龙"><link rel="stylesheet" href="/fonts/iconfont/iconfont.css"><link rel="stylesheet" href="/css/style.css"></head><body><div id="main"><header><a href="/." class="logo">加贝龙</a><ul class="nav"><li class="nav-link"><a href="/" target="_self">首页</a></li><li class="nav-link"><a href="/archives/" target="_self">归档</a></li><li class="nav-link"><a href="/categories/" target="_self">分类</a></li><li class="nav-link"><a href="/tags/" target="_self">标签</a></li><li class="nav-link"><a href="/about/" target="_self">关于</a></li></ul></header><section id="container"><article class="post"><h1 class="post-title">Cordova ： HelloWord</h1><span class="post-time">2016年11月22日</span><div class="post-content"><p>开发环境Mac OS,另外Android的开发环境也需要提前搭建好。<br>1.安装Node.js<br>官网下载最新的<a href="http://nodejs.cn/download/安装包，并安装，安装成功后命令行执行npm" target="_blank" rel="external">http://nodejs.cn/download/安装包，并安装，安装成功后命令行执行npm</a> -version会打印出当前Node的版本号。<br>2.安装Cordova<br>到Cordova官网，也有安装的步骤：<a href="http://cordova.apache.org/#getstarted" target="_blank" rel="external">http://cordova.apache.org/#getstarted</a><br><code>sudo npm install -g cordova</code>，这一步可能会比较慢，耐心等待。<br>安装完成后命令行执行<code>cordova -v</code>会打印当前Cordova的版本信息。<br>3.创建项目<br>上面的两个步骤安装完成就可以通过cordova命令创建一个Cordova项目，看一下怎么创建，执行命令：<code>cordova create --help</code>查看帮助信息。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">➜  Cordova cordova create --help                        </div><div class="line">Synopsis</div><div class="line"></div><div class="line">    cordova create &lt;PATH&gt; [ID [NAME [CONFIG]]] [options]</div><div class="line"></div><div class="line">Create a Cordova project</div><div class="line"></div><div class="line">    PATH ......................... Where to create the project</div><div class="line">    ID ........................... Reverse-domain-style package name - used in &lt;widget id&gt;</div><div class="line">    NAME ......................... Human readable name</div><div class="line">    CONFIG ....................... json string whose key/values will be included in</div><div class="line">                                    [PATH]/.cordova/config.json</div><div class="line"></div><div class="line">Options</div><div class="line"></div><div class="line">    --template=&lt;PATH|NPM PACKAGE|GIT URL&gt; ... use a custom template located locally, in NPM, or GitHub.</div><div class="line">    --copy-from|src=&lt;PATH&gt; .................. deprecated, use --template instead.</div><div class="line">    --link-to=&lt;PATH&gt; ........................ symlink to custom www assets without creating a copy.</div><div class="line">    </div><div class="line">Example</div><div class="line">    cordova create myapp com.mycompany.myteam.myapp MyApp</div></pre></td></tr></table></figure></p>
<p>根据最后Example我来创建一个HelloWord的项目：<br><code>cordova create helloword com.holo.helloword HelloWord</code><br>控制台信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">➜  Cordova cordova create helloword com.holo.helloword HelloWord</div><div class="line">Using detached cordova-create</div><div class="line">Creating a new cordova project.</div><div class="line">➜  Cordova</div></pre></td></tr></table></figure></p>
<p>说明创建成功了,进入到项目目录下，并看一下helloword有哪些目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">➜  Cordova ls</div><div class="line">asApps      helloword   myApp3      pluginDemos</div><div class="line">➜  Cordova cd helloword </div><div class="line">➜  helloword ls</div><div class="line">config.xml hooks      platforms  plugins    www</div><div class="line">➜  helloword</div></pre></td></tr></table></figure></p>
<p>这时候只是创建了一些基本信息，还不算一个项目，因为要创建的是一个Android项目，所以需要添加android平台，执行<code>cordova platform add android</code>,执行之前看一下platforms目录，是空的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">➜  helloword cd platforms</div><div class="line">➜  platforms ls</div><div class="line">➜  platforms</div></pre></td></tr></table></figure></p>
<p>执行<code>cordova platform add android</code>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">➜  platforms ls</div><div class="line">➜  platforms cd ..</div><div class="line">➜  helloword cordova platform add android </div><div class="line">Adding android project...</div><div class="line">Creating Cordova project for the Android platform:</div><div class="line">	Path: platforms/android</div><div class="line">	Package: com.holo.helloword</div><div class="line">	Name: HelloWord</div><div class="line">	Activity: MainActivity</div><div class="line">	Android target: android-24</div><div class="line">Subproject Path: CordovaLib</div><div class="line">Android project created with cordova-android@6.0.0</div><div class="line">Discovered plugin &quot;cordova-plugin-whitelist&quot; in config.xml. Adding it to the project</div><div class="line">Fetching plugin &quot;cordova-plugin-whitelist@1&quot; via npm</div><div class="line">Installing &quot;cordova-plugin-whitelist&quot; for android</div><div class="line">ANDROID_HOME=/Users/a1/Library/Android/sdk</div><div class="line">JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home</div><div class="line">Subproject Path: CordovaLib</div><div class="line">Starting a new Gradle Daemon for this build (subsequent builds will be faster).</div><div class="line">Incremental java compilation is an incubating feature.</div><div class="line">:clean</div><div class="line">:CordovaLib:clean</div><div class="line"></div><div class="line">BUILD SUCCESSFUL</div><div class="line"></div><div class="line">Total time: 8.353 secs</div><div class="line"></div><div class="line">               This plugin is only applicable for versions of cordova-android greater than 4.0. If you have a previous platform version, you do *not* need this plugin since the whitelist will be built in.</div><div class="line">          </div><div class="line">➜  helloword</div></pre></td></tr></table></figure></p>
<p>OK ,android项目创建成功了，如果中间遇到什么问题，请根据控制台中输出的错误信息修正就行了，我刚开始的时候是没安装Android sdk platfrom 24 就报错了。再次进入platforms文件夹：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">➜  helloword cd platforms</div><div class="line">➜  platforms ls</div><div class="line">android        platforms.json</div><div class="line">➜  platforms</div></pre></td></tr></table></figure></p>
<p>会有一个android目录，这个就是一个继承了Cordova的安卓项目了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">➜  android ls   </div><div class="line">AndroidManifest.xml android.json        build.gradle        gradle              libs                project.properties  settings.gradle</div><div class="line">CordovaLib          assets              cordova             gradlew             platform_www        res                 src</div><div class="line">➜  android</div></pre></td></tr></table></figure></p>
<p>下面编译一下：<code>android cordova build android --info</code>.编译成功后进入下面的目录：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">➜  android cd build/outputs/apk </div><div class="line">➜  apk ls</div><div class="line">android-debug.apk</div><div class="line">➜  apk</div></pre></td></tr></table></figure></p>
<p>会有一个android-debug.apk文件，安装到手机上之后是下面这个样子：<br><img src="../../../../images/cordova_hello.png" width="40%" align="center"><br>既然显示的是HTML文件，那这个是哪个呢？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">➜  android cd assets/www/               </div><div class="line">➜  www ls</div><div class="line">cordova-js-src     cordova.js         cordova_plugins.js css                img                index.html         js</div><div class="line">➜  www</div></pre></td></tr></table></figure></p>
<p>就是assets/www目录下的index.html，这个是在res/xml/config.xml中配置的。<br>OK，第一步走的很艰难啊，看似简单，但是从0开始到运行一个HelloWord还是经过了很多心血的，不过第一步成功了，后面就好办多了^_^。</p>
<p>参考：<a href="http://www.cnblogs.com/zhoujg/p/4560998.html" target="_blank" rel="external">http://www.cnblogs.com/zhoujg/p/4560998.html</a></p>
</div></article><div class="tags"><a href="/tags/Cordova/">Cordova</a></div><div class="paginator"><a href="/2016/09/24/RxJava_Create_2016-09-24/" class="next"><span>下一页</span><i class="iconfont icon-right"></i></a></div></section><footer><div class="copyright"><p class="power">Powered by <a href="https://hexo.io/">Hexo</a> and Theme by <a href="https://github.com/ahonn/hexo-theme-even"> Even</a></p><p class="since">&copy;2016<span class="heart"><i class="iconfont icon-heart"></i></span><span class="author">Holo Wang</span></p></div><label id="back2top"><i class="iconfont icon-up"></i></label></footer></div><script src="/js/zepto.min.js"></script><script src="/js/theme.js"></script></body></html>